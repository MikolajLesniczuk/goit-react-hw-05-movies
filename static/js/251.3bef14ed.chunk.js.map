{"version":3,"file":"static/js/251.3bef14ed.chunk.js","mappings":"qQACA,EAAuB,qBAAvB,EAAoD,sB,SCkGpD,EA7Fe,WACb,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAsCL,EAAAA,EAAAA,UAAS,IAA/C,eAAOM,EAAP,KAAoBC,EAApB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAeL,EAAaM,IAAI,UAAY,GAClDR,EAASO,EACV,GAAE,CAACL,IAEJ,IAaMO,EAAW,mCAAG,uGACCC,EAAAA,EAAAA,IAAaX,GADd,OACZY,EADY,OAEZC,EAAUD,EAAKC,QACrBP,EAAeO,GAHG,2CAAH,sDAMjBN,EAAAA,EAAAA,YAAU,WACM,KAAVP,EACFU,IAEAJ,EAAe,GAGlB,GAAE,CAACN,IAMJ,OACE,4BACE,0BACE,iBAAMc,UAAWC,EAASC,SAAU,SAAAC,GAAC,OAAIA,EAAEC,gBAAN,EAArC,UACE,kBACEJ,UAAWC,EACXI,KAAK,OACLC,MAAOpB,EACPqB,YAAY,gBACZC,SAzCgB,SAAAL,GACxB,IAAMG,EAAQH,EAAEM,OAAOH,MACvBnB,EAASmB,GACY,KAAjBA,EAAMI,OACRpB,EAAgB,CAAEJ,MAAOoB,IAEzBhB,GAAgB,SAAAqB,GAEd,OADAA,EAAOC,OAAO,SACPD,CACR,GAEJ,SAkCG,2BACG,KACD,gBAAKX,UAAWa,EAAAA,EAAAA,SAAhB,SAC0B,IAAvBtB,EAAYuB,OACTvB,EAAYwB,KACV,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAd,OACEA,IACE,eAAIlB,UAAWa,EAAAA,EAAAA,OAAf,UACE,gBAAIb,UAAWa,EAAAA,EAAAA,SAAf,WACE,gBACEb,UAAWa,EAAAA,EAAAA,YACXM,IAAKF,EACLG,IAAG,yCAAoCF,MAEzC,iBAAKlB,UAAWa,EAAAA,EAAAA,UAAhB,WACE,cAAGb,UAAWa,EAAAA,EAAAA,MAAd,SAAwBI,KAExB,mBACEjB,UAAWa,EAAAA,EAAAA,OACXQ,QAAS,kBApCX,SAAAL,GACtBjC,EAAS,WAAD,OAAYiC,GACrB,CAkCwCM,CAAgBN,EAAtB,EAFX,iCAVwBA,EAFlC,IAuBQ,KAAV9B,IACE,cAAGc,UAAWa,EAAAA,EAAAA,MAAd,iDAMf,C,kBChGD,KAAgB,YAAc,0BAA0B,SAAW,uBAAuB,OAAS,qBAAqB,aAAe,2BAA2B,UAAY,wBAAwB,MAAQ,oBAAoB,OAAS,qBAAqB,SAAW,uBAAuB,MAAQ,oB","sources":["webpack://goit-react-hw-05-movies/./src/pages/MoviesList/movies.module.css?69ff","pages/MoviesList/movies.jsx","webpack://goit-react-hw-05-movies/./src/pages/HomePage/home.module.css?2c7c"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"movies_form__RY1EP\",\"input\":\"movies_input__zXAfk\"};","import { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { searchMovies } from 'services/service';\nimport s from '../HomePage/home.module.css';\nimport st from './movies.module.css';\n\nconst Movies = () => {\n  const navigate = useNavigate();\n  const [query, setQuery] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movieresult, setmovieresult] = useState([]);\n\n  useEffect(() => {\n    const queryFromURL = searchParams.get('query') || '';\n    setQuery(queryFromURL);\n  }, [searchParams]);\n\n  const handleInputChange = e => {\n    const value = e.target.value;\n    setQuery(value);\n    if (value.trim() !== '') {\n      setSearchParams({ query: value });\n    } else {\n      setSearchParams(params => {\n        params.delete('query');\n        return params;\n      });\n    }\n  };\n\n  const fetchMovies = async () => {\n    const data = await searchMovies(query);\n    const results = data.results;\n    setmovieresult(results);\n  };\n\n  useEffect(() => {\n    if (query !== '') {\n      fetchMovies();\n    } else {\n      setmovieresult([]);\n    }\n    // eslint-disable-next-line\n  }, [query]);\n\n  const handleNavigated = id => {\n    navigate(`/movies/${id}`);\n  };\n\n  return (\n    <div>\n      <div>\n        <form className={st.form} onSubmit={e => e.preventDefault()}>\n          <input\n            className={st.input}\n            type=\"text\"\n            value={query}\n            placeholder=\"search movies\"\n            onChange={handleInputChange}\n          />\n        </form>\n      </div>\n      <div>\n        {' '}\n        <div className={s.flexmain}>\n          {movieresult.length !== 0\n            ? movieresult.map(\n                ({ id, title, poster_path }) =>\n                  poster_path && (\n                    <ul className={s.ullist} key={id}>\n                      <li className={s.flexList}>\n                        <img\n                          className={s.imagesMovie}\n                          alt={title}\n                          src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n                        ></img>\n                        <div className={s.listMovie}>\n                          <p className={s.title}>{title}</p>\n\n                          <button\n                            className={s.button}\n                            onClick={() => handleNavigated(id)}\n                          >\n                            More Details\n                          </button>\n                        </div>\n                      </li>\n                    </ul>\n                  )\n              )\n            : query !== '' && (\n                <p className={s.alert}>There is nothing, try again </p>\n              )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"imagesMovie\":\"home_imagesMovie__fEruS\",\"flexmain\":\"home_flexmain__9-i8T\",\"ullist\":\"home_ullist__w5dLI\",\"titlepopular\":\"home_titlepopular__i4tPJ\",\"listMovie\":\"home_listMovie__RouGS\",\"title\":\"home_title__2iqJZ\",\"button\":\"home_button__O6e1v\",\"flexList\":\"home_flexList__0dgEA\",\"alert\":\"home_alert__AcQMX\"};"],"names":["navigate","useNavigate","useState","query","setQuery","useSearchParams","searchParams","setSearchParams","movieresult","setmovieresult","useEffect","queryFromURL","get","fetchMovies","searchMovies","data","results","className","st","onSubmit","e","preventDefault","type","value","placeholder","onChange","target","trim","params","delete","s","length","map","id","title","poster_path","alt","src","onClick","handleNavigated"],"sourceRoot":""}